var shiwordAnimations;(function(a){shiwordAnimations={init:function(b){var c=b.split(",");for(i in c){switch(c[i]){case"main_menu":this.main_menu();break;case"navigation_buttons":this.navigation_buttons();break;case"quickbar_panels":this.quickbar_panels();break;case"minilogin":this.minilogin();break;case"entry_meta":this.entry_meta();break;case"widgets_style":this.widgets_style();break;case"post_expander":this.post_expander();break;case"thickbox":this.thickbox();break;case"quote_this":this.quote_this();break;case"slider":this.slider();break;default:break}}},main_menu:function(){a("#mainmenu").children(".menu-item-parent").each(function(){var c=a(this);var e=c.children("ul");e.css({opacity:0,display:"block"});var b=e.height();e.css({opacity:1,display:"",height:0});c.mouseenter(function(){e.animate({height:b},200)}).mouseleave(function(){e.stop().css({display:"",height:0})})})},navigation_buttons:function(){a("#navbuttons").children(".minibutton").each(function(){var d=a(this);var c=d.find("span.nb_tooltip");c.css({opacity:0,display:"block","min-width":0});var b=c.width();c.css({opacity:1,display:"",width:0});if(b<200){b=200}d.mouseenter(function(){c.animate({width:b},200)}).mouseleave(function(){c.stop();c.css({opacity:1,display:"",width:0})})});top_but=a("#navbuttons").find('a[href="#"] span');bot_but=a("#navbuttons").find('a[href="#footer"] span');top_but.hide();a(function(){a(window).scroll(function(){if(a(this).scrollTop()>100){top_but.slideDown()}else{top_but.slideUp()}if(a("body").height()-a(window).scrollTop()-a(window).height()<100){bot_but.slideUp()}else{bot_but.slideDown()}})});top_but.click(function(){a("html, body").animate({scrollTop:0},{duration:400});return false});bot_but.click(function(){a("html, body").animate({scrollTop:a("#footer").offset().top-80},{duration:400});return false})},quickbar_panels:function(){a("#quickbar").children(".menuitem").each(function(){var c=a(this);var b=c.children(".menuback");b.css({display:"",width:0}).removeClass("mi_shadowed");c.mouseenter(function(){if(a("#sw-user_login").hasClass("keepme")){return}b.animate({width:832},400,"",function(){b.addClass("mi_shadowed")})}).mouseleave(function(){if(a("#sw-user_login").hasClass("keepme")){return}b.stop();b.removeClass("mi_shadowed").css({display:"",width:0})})})},minilogin:function(){$closeminilogin=a("#closeminilogin");a(".login-submit").append($closeminilogin);$closeminilogin.css({display:"inline"});$closeminilogin.click(function(){a(".menuitem_img").show();a("#user_menuback").find(".menuback").css({display:"",width:0});a("#sw_minilogin_wrap").css({display:""});a("#sw-user_login").removeClass("keepme");return false});a("#sw-user_login").mousedown(function(){a("#sw_minilogin_wrap").css({display:"block"});a("#user_menuback").find(".menuback").css({display:"block"});a(this).addClass("keepme");a(".menuitem_img").fadeOut()})},entry_meta:function(){a("body").on("post-load",function(b){shiwordAnimations.entry_meta_apply()});this.entry_meta_apply()},entry_meta_apply:function(){a("#maincontent").find(".top_meta.ani_meta").removeClass("ani_meta").addClass("ani_meta_js").children(".metafield").each(function(){var e=a(this);var d=e.children(".metafield_content");var b=e.parent();d.css({opacity:0,display:"block"});var c=d.height();d.css({opacity:1,display:"",height:0,"padding-top":0});e.mouseenter(function(){d.animate({height:c,"padding-top":25},200);b.addClass("meta_shadowed")}).mouseleave(function(){d.stop().css({display:"",height:0,"padding-top":0});b.removeClass("meta_shadowed")})})},widgets_style:function(){a("#post-widgets-area").find(".widget:nth-child(odd)").css("clear","left");a("#header-widget-area").find(".widget:nth-child(3n+1)").css("clear","right");a("#error404-widgets-area").find(".widget:nth-child(odd)").css("clear","left")},thickbox:function(){a("#posts-container").find(".storycontent a img").parent('a[href$=".jpg"],a[href$=".png"],a[href$=".gif"]').addClass("thickbox");a("#posts-container").find(".storycontent .gallery").each(function(){var b=a(this);a('a[href$=".jpg"],a[href$=".png"],a[href$=".gif"]',b).attr("rel",b.attr("id"))})},quote_this:function(){htmltext='<span> - </span><a id="tb-quotethis" href="#" onclick="shiwordAnimations.add_quote(); return false" title="'+shiword_l10n.quote_link_info+'" >'+shiword_l10n.quote_link_text+"</a>";a(htmltext).appendTo("#reply-title")},add_quote:function(){var b="";if(window.getSelection){b=window.getSelection()}else{if(document.getSelection){b=document.getSelection()}else{if(document.selection){b=document.selection.createRange().text}else{return true}}}b=b.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(b.length!==0){document.getElementById("comment").value=document.getElementById("comment").value+"<blockquote>"+b+"</blockquote>"}else{alert(shiword_l10n.quote_link_alert)}},post_expander:function(){a("#posts-container").find("a.more-link").click(function(){var b=a(this);a.ajax({type:"POST",url:b.attr("href"),beforeSend:function(c){b.html(shiword_l10n.post_expander_wait).addClass("ajaxed")},data:"shiword_post_expander=1",success:function(c){b.parents(".storycontent").hide().html(a(c)).fadeIn(600)}});return false})},slider:function(){a("#sw_sticky_slider").sw_sticky_slider({speed:parseInt(shiword_l10n.slider_speed),pause:parseInt(shiword_l10n.slider_pause)})}};a(document).ready(function(b){shiwordAnimations.init(shiword_l10n.script_modules)})})(jQuery);(function(a){a.fn.sw_sticky_slider=function(b){var c={speed:1000,pause:2000},b=a.extend(c,b);return this.each(function(){var f=a(this);var e=true;f.css({width:"50000px",position:"relative",display:"block"});f.children().css({"float":"left","list-style":"none",height:f.parent().css("height"),width:f.parent().css("width")});if(f.children().size()>1){timId=g();f.parent().mouseenter(function(){clearInterval(timId)}).mouseleave(function(){timId=g()});a(".sw_slider-skip.toright",f.parent()).click(function(){d()});a(".sw_slider-skip.toleft",f.parent()).click(function(){d("toleft")})}function g(){timId=setInterval(function(){d()},(b.speed+b.pause));return timId}function d(h){if(f.is(":animated")){return}if(h=="toleft"){if(!f.is(":animated")){f.css("left","-"+f.parent().width()+"px").children(":last").prependTo(f)}f.stop().animate({left:0},b.speed)}else{f.stop().animate({left:"-"+f.parent().width()},b.speed,function(){f.css("left",0).children(":first").appendTo(f)})}}})}})(jQuery);